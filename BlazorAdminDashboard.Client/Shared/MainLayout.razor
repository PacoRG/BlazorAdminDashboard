@inherits LayoutComponentBase
@inject Microsoft.Extensions.Configuration.IConfiguration configuration

<DesktopLayout>
    <DesktopLeftColumn>
        <DesktopNavigation>
            <DesktopNavigationMenu Menus="@Menus"></DesktopNavigationMenu>
            <DesktopMinifyMenu></DesktopMinifyMenu>
        </DesktopNavigation>
    </DesktopLeftColumn>
    <DesktopCenterColumn>
        <DesktopLayoutCenterContainer>
            <DesktopHeader>
                <DesktopHeaderContent AppName="@AppName" AppDescription="@AppDescription" AppVersion="@AppVersion" UserName="@UserName" PersonName="@PersonName">
                </DesktopHeaderContent>
            </DesktopHeader>
            <DesktopContent>
                @Body
            </DesktopContent>
        </DesktopLayoutCenterContainer>
    </DesktopCenterColumn>
</DesktopLayout>

@code {

    private List<NavigationMenu> Menus { get; set; }

    private string AppName { get; set; }

    private string AppDescription { get; set; }

    private string AppVersion { get; set; }

    private string Title { get; set; }

    private string UserName { get; set; }

    private string PersonName { get; set; }

    protected override void OnInit()
    {

        AppName = configuration["AppName"];
        AppDescription = configuration["AppDescription"];
        AppVersion = configuration["AppVersion"];
        Title = configuration["Title"];
        UserName = "amustelier@blazor.com";
        PersonName = "Adrian Mustelier";

        Menus = new List<NavigationMenu> {
                        new NavigationMenu {
                            MenuId = 10,
                            Link = "/",
                            ParentId = 0,
                            Text = "Dashboard",
                            IconClass = "fas fa-home",
                            Children = new List<NavigationMenu>(),
                            IsNode = true,
                            Rights = new List<string> {
                                "CanReadDashboard"
                            }
            },
            new NavigationMenu {
                MenuId = 10,
                Link = "Feature1",
                ParentId = 0,
                Text = "Feature1",
                IconClass = "fas fa-user",
                Children = new List<NavigationMenu> {
                            new NavigationMenu {
                                MenuId = 10,
                                Link = "Feature1/List",
                                ParentId = 0,
                                Text = "List",
                                IconClass = "fas fa-cog",
                                Children = new List<NavigationMenu>(),
                                IsNode = false,
                                Rights = new List<string> {
                                    "CanReadDashboard"
                                }
                            } },
                IsNode = true,
                Rights = new List<string> {
                    "CanReadDashboard"
                }
            },
            new NavigationMenu {
                MenuId = 10,
                Link = "Feature2",
                ParentId = 0,
                Text = "Feature2",
                IconClass = "fas fa-users",
                Children = new List<NavigationMenu> {
                            new NavigationMenu {
                                MenuId = 10,
                                Link = "Feature2/List",
                                ParentId = 0,
                                Text = "List",
                                IconClass = "fas fa-cogs",
                                Children = new List<NavigationMenu>(),
                                IsNode = false,
                                Rights = new List<string> {
                                    "CanReadDashboard"
                                }
                            } },
                IsNode = true,
                Rights = new List<string> {
                    "CanReadDashboard"
                }
            },
        };
    }
}
